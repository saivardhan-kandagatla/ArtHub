<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Cart â€” Art Hub</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="container header-row"><h1 class="logo"><a href="index.html">Art Hub</a></h1></header>
  <main class="container">
    <h2>Your cart</h2>
    <div id="cart-list"></div>
    <div id="cart-summary"></div>
    <p><a href="checkout.html" class="btn">Proceed to Checkout</a></p>
  </main>
  <script src="products.js"></script>
  <script>
  const cartList = document.getElementById('cart-list');
  const cartSummary = document.getElementById('cart-summary');
  function getCart(){return JSON.parse(localStorage.getItem('cart')||'{}')}
  function saveCart(c){localStorage.setItem('cart',JSON.stringify(c)); location.reload();}
  function renderCart(){
    const cart = getCart();
    const ids = Object.keys(cart);
    if(ids.length===0){cartList.innerHTML='<p>Your cart is empty.</p>';cartSummary.innerHTML='';return}
    let total=0; cartList.innerHTML='';
    ids.forEach(id=>{
      const p = PRODUCTS.find(x=>x.id===id);
      const qty = cart[id];
      const line = document.createElement('div');
      line.className='product';
      line.innerHTML = `
        <div style="display:flex;gap:12px;align-items:center">
          <img src="${p.img}" width="80" height="80" onerror="this.src='placeholder.png'">
          <div>
            <strong>${p.title}</strong><br>
            $${p.price} x ${qty}
          </div>
        </div>
        <div style="margin-top:8px">
          <button onclick="change('${id}',-1)">-</button>
          <button onclick="change('${id}',1)">+</button>
          <button onclick="removeItem('${id}')">Remove</button>
        </div>
      `;
      cartList.appendChild(line);
      total += p.price * qty;
    });
    cartSummary.innerHTML = `<h3>Total: $${total.toFixed(2)}</h3>`;
  }
  function change(id, delta){ const c = getCart(); c[id] = Math.max(0,(c[id]||0)+delta); if(c[id]===0) delete c[id]; saveCart(c);} 
  function removeItem(id){ const c = getCart(); delete c[id]; saveCart(c);} 
  renderCart();
  </script>
</body>
</html>
